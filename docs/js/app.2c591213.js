(function(e){function t(t){for(var i,a,u=t[0],o=t[1],c=t[2],d=0,m=[];d<u.length;d++)a=u[d],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&m.push(r[a][0]),r[a]=0;for(i in o)Object.prototype.hasOwnProperty.call(o,i)&&(e[i]=o[i]);l&&l(t);while(m.length)m.shift()();return s.push.apply(s,c||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],i=!0,u=1;u<n.length;u++){var o=n[u];0!==r[o]&&(i=!1)}i&&(s.splice(t--,1),e=a(a.s=n[0]))}return e}var i={},r={app:0},s=[];function a(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=i,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)a.d(n,i,function(t){return e[t]}.bind(null,i));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/mini-drum-kit/";var u=window["webpackJsonp"]=window["webpackJsonp"]||[],o=u.push.bind(u);u.push=t,u=u.slice();for(var c=0;c<u.length;c++)t(u[c]);var l=o;s.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"070e":function(e,t,n){e.exports=n.p+"media/Hat.0d5d3612.wav"},"202e":function(e,t,n){"use strict";var i=n("d642"),r=n.n(i);r.a},2298:function(e,t,n){e.exports=n.p+"media/Kick.7a1d640b.wav"},"46d4":function(e,t,n){"use strict";var i=n("703b"),r=n.n(i);r.a},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("2b0e"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app"},[n("div",{staticClass:"app__nav"},[n("router-link",{attrs:{to:{name:"Play"}}},[e._v("Play")]),e._v(" | "),n("router-link",{attrs:{to:{name:"Sequence"}}},[e._v("Sequence")])],1),n("router-view")],1)},s=[],a=(n("5c0b"),n("2877")),u={},o=Object(a["a"])(u,r,s,!1,null,null,null),c=o.exports,l=n("8c4f"),d=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"play-view"},[n("h1",[e._v("Mini Drum Kit")]),n("p",{staticClass:"play-view__description"},[e._v("Audio Files from the Focusrite Drum Pack")]),n("p",{staticClass:"play-view__description"},[e._v("Works best on Google Chrome (desktop version)")]),n("div",{staticClass:"play-view__drums"},[n("PlayDrum",{attrs:{index:this.indexMap["Kick"]}}),n("PlayDrum",{attrs:{index:this.indexMap["Snare"]}}),n("PlayDrum",{attrs:{index:this.indexMap["Hat"]}}),n("PlayDrum",{attrs:{index:this.indexMap["Crash"]}})],1)])},m=[],p=n("c0e1"),b=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"drum",style:e.pressed?{backgroundColor:this.color}:"",on:{mousedown:e.playSound,click:e.dehighlightDrum}},[n("h2",[e._v(e._s(e.name))]),n("p",{staticClass:"drum__letter"},[e._v(e._s(e.keyLetter))])]),n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.volSlider,expression:"volSlider"}],staticClass:"slider",attrs:{type:"range",min:"0",max:"10",value:"5"},domProps:{value:e.volSlider},on:{__r:function(t){e.volSlider=t.target.value}}})])])},f=[],h=(n("a9e3"),{props:{index:Number},data:function(){return{name:p.drums[this.index]["type"],sound:n("b871")("./"+p.drums[this.index]["type"]+".wav"),keyLetter:p.drums[this.index]["keyLetter"],keyCode:p.drums[this.index]["keyCode"],color:p.drums[this.index]["color"],volSlider:5,pressed:!1}},computed:{volume:function(){return this.volSlider/10}},methods:{playSound:function(){var e=new Audio(this.sound);e.volume=this.volume,e.play(),this.pressed=!0},dehighlightDrum:function(){this.pressed=!1}},mounted:function(){var e=this;window.addEventListener("keydown",(function(t){t.keyCode===e.keyCode&&e.playSound()})),window.addEventListener("keyup",(function(t){t.keyCode===e.keyCode&&e.dehighlightDrum()}))}}),v=h,y=(n("202e"),Object(a["a"])(v,b,f,!1,null,"22f2793e",null)),_=y.exports,g={components:{PlayDrum:_},data:function(){return{indexMap:p.indexMap}}},S=g,B=(n("46d4"),Object(a["a"])(S,d,m,!1,null,"6b2300c2",null)),k=B.exports,C=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"sequence-view"},[n("SequenceSettings",{attrs:{bpm:this.bpm,timeIndex:this.timeIndex,isPlaying:e.isPlaying},on:{"bpm-changed":e.updateBpm,"time-signature-changed":e.updateTimeSignature}}),e._l(e.sequences,(function(t,i){return n("SequenceBar",{key:e.keyPrefix+"-"+i,attrs:{type:i,sequenceArray:t,isPlaying:e.isPlaying,currBeat:e.currBeat,currSubBeat:e.currSubBeat},on:{"clicked-sequence":e.sequenceClicked}})})),n("div",[n("button",{staticClass:"sequence-view__button",on:{click:function(t){return e.togglePlaying()}}},[e._v(" "+e._s(this.isPlaying?"STOP":"PLAY")+" ")]),n("button",{staticClass:"sequence-view__button",on:{click:function(t){return e.resetSequence()}}},[e._v(" RESET ")])])],2)},x=[],P=(n("4795"),n("85c1")),w=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"settings"},[n("div",{staticClass:"settings__label settings__metronome"},[e._v(" BPM:"),n("div",{staticClass:"settings__metronome__value"},[e._v(e._s(this.bpmValue))]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.bpmSlider,expression:"bpmSlider"}],attrs:{type:"range",min:"14",max:"40",value:"20"},domProps:{value:e.bpmSlider},on:{change:e.onBpmChanged,__r:function(t){e.bpmSlider=t.target.value}}})]),n("div",{staticClass:"settings__label settings__time"},[e._v(" Time: "),n("select",{staticClass:"settings__time__menu",on:{change:e.onTimeSignatureChanged}},e._l(e.times,(function(t,i){return n("option",{key:i,domProps:{selected:i===e.timeIndex,value:i}},[e._v(" "+e._s(t.label)+" ")])})),0)])])},q=[],O={props:{bpm:Number,timeIndex:Number,isPlaying:Boolean},data:function(){return{times:P.timeSignatures,bpmSlider:this.bpm/4}},methods:{onTimeSignatureChanged:function(e){this.$emit("time-signature-changed",e.target.value)},onBpmChanged:function(){this.$emit("bpm-changed",this.bpmValue)}},computed:{bpmValue:function(){return 4*this.bpmSlider}}},j=O,N=(n("a84b"),Object(a["a"])(j,w,q,!1,null,"09771475",null)),D=N.exports,M=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"sequence-bar"},[n("div",{staticClass:"sequence-bar__name"},[e._v(e._s(this.name))]),n("div",{staticClass:"sequence-bar__beats"},e._l(e.sequenceArray,(function(t,i){return n("SequenceBeat",{key:i,attrs:{type:e.type,beat:i,subBeats:t,isPlaying:e.isPlaying,isCurrBeat:e.currBeat===i,currSubBeat:e.currSubBeat},on:{"clicked-beat":e.beatClicked}})})),1)])},E=[],T=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"beat"},e._l(e.subBeats,(function(t,i){return n("div",{key:i,class:[t?e.baseClasses+" sub-beat--selected":e.baseClasses],on:{click:function(n){return e.toggleSubBeat(i,t)}}},[t&&e.isCurrBeat&&e.currSubBeat===i?n("div",{staticClass:"sub-beat__playing"},[e._v("â—")]):e._e()])})),0)},L=[],$={props:{type:Number,beat:Number,subBeats:Array,isPlaying:Boolean,isCurrBeat:Boolean,currSubBeat:Number},updated:function(){if(this.isCurrBeat&&this.subBeats[this.currSubBeat]){var e=new Audio(this.sound);e.volume=.5,e.play()}},data:function(){return{baseClasses:"sub-beat sub-beat--"+p.drums[this.type]["type"].toLowerCase(),sound:n("b871")("./"+p.drums[this.type]["type"]+".wav"),currentSubBeat:0}},methods:{toggleSubBeat:function(e,t){this.isPlaying||this.$emit("clicked-beat",this.beat,e,!t)}}},I=$,A=(n("f972"),Object(a["a"])(I,T,L,!1,null,"8558d91c",null)),K=A.exports,H={components:{SequenceBeat:K},props:{type:Number,sequenceArray:Array,isPlaying:Boolean,currBeat:Number,currSubBeat:Number},data:function(){return{name:p.drums[this.type]["type"]}},methods:{beatClicked:function(e,t,n){this.$emit("clicked-sequence",this.type,e,t,n)}}},J=H,F=(n("7b0c"),Object(a["a"])(J,M,E,!1,null,"04f01b54",null)),V=F.exports;n("cb29");function U(e,t){for(var n=[],i=P.timeSignatures[t]["numBeats"],r=P.timeSignatures[t]["numSubBeats"],s=0;s<e;s++){for(var a=[],u=0;u<i;u++){var o=new Array(r);o.fill(!1),a.push(o)}n.push(a)}return n}var G={components:{SequenceSettings:D,SequenceBar:V},data:function(){return{keyPrefix:0,bpm:80,numDrums:4,timeIndex:2,sequences:U(4,2),isPlaying:!1,timer:0,currBeat:-1,currSubBeat:-1}},methods:{togglePlaying:function(){this.isPlaying?this.resetTimer():this.timer=setInterval(this.updateSubBeat,this.msPerSubBeat),this.isPlaying=!this.isPlaying},resetTimer:function(){clearInterval(this.timer),this.currBeat=-1,this.currSubBeat=-1},updateSubBeat:function(){this.currSubBeat=this.currSubBeat>=this.numSubBeats-1?0:this.currSubBeat+1,0===this.currSubBeat&&(this.currBeat=this.currBeat>=this.numBeats-1?0:this.currBeat+1)},resetSequence:function(){this.isPlaying||(this.sequences=U(this.numDrums,this.timeIndex))},sequenceClicked:function(e,t,n,i){this.sequences[e][t][n]=i,this.keyPrefix++},updateBpm:function(e){this.bpm=e},updateTimeSignature:function(e){this.timeIndex=+e,this.resetSequence()}},computed:{numBeats:function(){return P.timeSignatures[this.timeIndex]["numBeats"]},numSubBeats:function(){return P.timeSignatures[this.timeIndex]["numSubBeats"]},msPerSubBeat:function(){return 6e4/this.bpm/this.numSubBeats}}},R=G,W=(n("bf24"),Object(a["a"])(R,C,x,!1,null,"055547c4",null)),Y=W.exports;i["a"].use(l["a"]);var z=[{path:"/mini-drum-kit",name:"Play",component:k},{path:"/mini-drum-kit/sequence",name:"Sequence",component:Y}],Q=new l["a"]({mode:"history",routes:z}),X=Q;i["a"].config.productionTip=!1,new i["a"]({router:X,render:function(e){return e(c)}}).$mount("#app")},"5c0b":function(e,t,n){"use strict";var i=n("9c0c"),r=n.n(i);r.a},"5da3":function(e,t,n){},"703b":function(e,t,n){},"7b0c":function(e,t,n){"use strict";var i=n("5da3"),r=n.n(i);r.a},"85c1":function(e){e.exports=JSON.parse('{"timeSignatures":[{"label":"6/8 (16ths)","numBeats":6,"numSubBeats":2},{"label":"3/4 (16ths)","numBeats":3,"numSubBeats":4},{"label":"4/4 (16ths)","numBeats":4,"numSubBeats":4},{"label":"4/4 (triplets)","numBeats":4,"numSubBeats":3}]}')},"97f0":function(e,t,n){e.exports=n.p+"media/Crash.af847e05.wav"},"9c0c":function(e,t,n){},a84b:function(e,t,n){"use strict";var i=n("f597"),r=n.n(i);r.a},b871:function(e,t,n){var i={"./Crash.wav":"97f0","./Hat.wav":"070e","./Kick.wav":"2298","./Snare.wav":"ed2f"};function r(e){var t=s(e);return n(t)}function s(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}r.keys=function(){return Object.keys(i)},r.resolve=s,e.exports=r,r.id="b871"},bf24:function(e,t,n){"use strict";var i=n("c730"),r=n.n(i);r.a},c0e1:function(e){e.exports=JSON.parse('{"indexMap":{"Kick":0,"Snare":1,"Hat":2,"Crash":3},"drums":[{"type":"Kick","keyLetter":"e","keyCode":69,"color":"#7abeeb"},{"type":"Snare","keyLetter":"f","keyCode":70,"color":"#fff9a1"},{"type":"Hat","keyLetter":"j","keyCode":74,"color":"#c6f2a7"},{"type":"Crash","keyLetter":"i","keyCode":73,"color":"#fc92a4"}]}')},c730:function(e,t,n){},c90c:function(e,t,n){},d642:function(e,t,n){},ed2f:function(e,t,n){e.exports=n.p+"media/Snare.b0087b2d.wav"},f597:function(e,t,n){},f972:function(e,t,n){"use strict";var i=n("c90c"),r=n.n(i);r.a}});
//# sourceMappingURL=app.2c591213.js.map